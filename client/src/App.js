import logo from './beer.svg';
import './App.css';
import OrderForm from "./OrderForm"
import Order from "./Order"
import React, { useState, useEffect } from "react"
import getOrders from './Queries'

function App() {
    const [myOrders, setMyOrders] = useState([])
    useEffect(() => {
            getOrders(data => setMyOrders(data))
            console.log(myOrders)
    }, [setMyOrders, myOrders])
    console.log(myOrders)
    const renderOrders = () => {
        if (myOrders) {
            let list1 = []
            for (let i=0; i < myOrders.length; i++) {
                list1.push(
                    Order(myOrders[i])
                )
            }
        console.log(list1)
        return list1
        }

    }
    return (
        <div className="App">
        <header className="App-header">
        <svg className="beer" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" space="preserve">
        <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>
        <g><g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)"><path d="M4217,4982.3c-346.2-76.2-676.3-260.8-932.4-519.3c-103.9-106.2-180-207.7-360.1-489.3c-20.8-32.3-39.2-32.3-184.6,6.9c-680.9,182.3-1431-177.7-1763.3-844.8c-191.6-385.4-191.6-844.7-4.6-1244c166.2-355.5,535.5-692.4,881.7-807.8l113.1-39.2v-2391.1c0-2608.1,0-2580.4,131.6-2827.4c34.6-66.9,131.6-189.3,214.6-272.3c175.4-177.7,373.9-281.6,600.1-318.5c200.8-32.3,3302.8-34.6,3508.2-2.3c415.4,67,803.2,422.4,914,840.2c18.5,71.5,32.3,240,32.3,431.6v313.9l316.2,16.2c214.6,9.2,334.7,25.4,369.3,48.5c62.3,41.5,480.1,535.5,613.9,729.3c140.8,200.8,281.6,491.6,364.7,743.2c122.3,373.9,136.2,533.2,136.2,1574.1c0,870.1-4.6,953.2-43.9,1040.9c-129.2,286.2-667,489.3-1225.6,461.6c-145.4-6.9-323.1-27.7-392.4-46.2c-69.2-20.8-129.2-36.9-131.6-36.9c-4.6,0-6.9,124.6-6.9,277v279.3l154.6,143.1c302.4,281.6,433.9,570.1,431.6,939.4c-2.3,323.1-108.5,577-353.1,837.8c-350.8,380.8-870.1,510.1-1352.5,341.6l-124.6-43.8l-120,161.6c-221.6,300-634.7,577-1001.7,676.3C4798.6,5016.9,4413.2,5026.2,4217,4982.3z M4886.3,4430.7c367-94.6,627.8-316.2,803.2-685.5c60-122.3,129.3-237.7,159.3-258.5c30-20.8,99.2-36.9,159.3-36.9c85.4,0,124.6,13.8,196.2,71.5c159.3,129.3,277,168.5,487,168.5c170.8,0,205.4-9.2,346.2-80.8c191.6-96.9,290.8-226.2,346.2-447.7c32.3-133.9,34.6-180,9.2-320.8c-60-348.5-277-549.3-632.4-583.9c-267.7-23.1-530.9,83.1-641.6,263.1c-69.2,108.5-170.8,168.5-295.4,168.5c-92.3,0-110.8-9.2-184.6-94.6c-263.1-304.6-337-371.6-521.6-461.6c-399.3-196.2-918.6-163.9-1234.8,78.5c-244.6,186.9-343.9,214.6-473.1,136.2c-36.9-23.1-80.8-69.2-94.6-99.3c-131.6-274.6-173.1-343.9-267.7-438.5c-373.9-373.9-1061.7-357.7-1424.1,36.9c-175.4,193.9-219.3,330-221.6,669.3c0,263.1,4.6,283.9,73.9,431.6c92.3,196.2,244.6,348.5,440.8,440.8c147.7,69.2,168.5,73.9,436.2,73.9h279.3l189.3-96.9c103.9-55.4,219.3-99.2,253.9-99.2c154.6,0,247,96.9,297.7,309.3c85.4,350.8,387.8,692.4,717.8,810.1C4327.8,4469.9,4657.9,4488.4,4886.3,4430.7z M5943.4,1940.3c180-136.2,514.7-244.6,747.8-244.6h122.3V-1044c0-1765.6-9.2-2772-23.1-2825c-39.2-136.2-120-235.4-242.3-297.8l-115.4-57.7H4667.1H2901.4l-110.8,55.4c-131.6,64.6-212.3,175.4-247,337c-16.2,78.5-20.8,881.7-18.5,2467.3l6.9,2354.2l161.6,39.2c87.7,23.1,249.3,85.4,357.8,138.5c159.3,78.5,235.4,136.2,406.2,309.3l207.7,210l150-66.9c350.8-157,794-205.4,1140.2-120c223.9,53.1,595.5,240,761.7,378.5c76.2,64.6,140.8,117.7,145.4,117.7C5867.3,1995.7,5904.2,1970.3,5943.4,1940.3z M8533.1,848.6l69.2-20.8v-992.4c0-962.4-2.3-994.8-53.1-1184c-60-223.9-168.5-466.2-288.5-653.2c-78.5-124.6-438.5-565.5-489.3-600.1c-11.6-9.2-108.5-18.5-212.4-18.5h-191.6v1719.5c0,1454.1,4.6,1721.8,32.3,1733.3C7540.6,885.5,8371.5,897.1,8533.1,848.6z"/><path d="M3148.4,1107.1c-66.9-34.6-147.7-94.6-177.7-136.2c-133.9-175.4-126.9-71.5-126.9-2234.2c0-1878.7,2.3-1996.5,43.9-2084.2c115.4-256.2,376.2-383.1,620.9-302.4c145.4,48.5,313.9,219.3,350.8,355.4c16.2,64.6,23.1,701.7,18.5,2088.8l-6.9,1994.2l-69.2,113.1c-92.3,145.4-249.3,244.7-410.8,256.2C3293.8,1167.1,3247.6,1155.6,3148.4,1107.1z M3529.2,832.4l64.6-55.4l6.9-1994.2c4.6-1467.9-2.3-2008-20.8-2056.5c-78.5-187-413.1-161.6-447.8,34.6c-6.9,41.5-9.2,962.4-6.9,2044.9l6.9,1971.1l64.6,55.4C3286.9,908.6,3439.2,908.6,3529.2,832.4z"/><path d="M4507.8,1132.5c-113.1-41.5-244.7-161.6-300-274.6c-48.5-101.6-48.5-103.9-43.9-2144.2l6.9-2040.3l64.6-99.3c78.5-120,242.3-226.2,378.5-246.9c189.3-27.7,415.4,101.5,521.6,300l50.8,94.6v2019.6V760.9l-50.8,94.6C5004.1,1102.5,4743.2,1217.9,4507.8,1132.5z M4805.6,853.2c46.2-25.4,73.9-62.3,92.3-124.6c16.2-62.3,23.1-724.7,18.5-2044.9l-6.9-1954.9l-78.5-69.2c-69.2-62.3-90-69.2-184.6-57.7c-76.2,9.3-120,27.7-157,73.9l-53.1,60v2008V754l66.9,66.9C4581.7,897.1,4694.8,910.9,4805.6,853.2z"/><path d="M5786.5,1120.9c-140.8-62.3-281.6-235.4-311.6-378.5c-18.4-85.4-23.1-697-18.4-2070.3l6.9-1950.3l50.8-94.6c108.5-203.1,339.3-332.4,535.5-297.7c143.1,23.1,302.4,140.8,376.2,277l64.6,115.4v2014.9c0,1638.7-6.9,2028.8-30,2088.8c-50.8,120-156.9,226.2-281.6,283.9C6040.4,1174,5911.1,1178.6,5786.5,1120.9z M6146.5,820.9l66.9-66.9v-2010.3v-2008l-50.8-60c-64.6-73.9-196.2-99.2-297.7-57.7c-140.8,60-136.2-6.9-136.2,2123.4c0,2095.7-2.3,2072.6,120,2123.4C5959.6,908.6,6075,892.5,6146.5,820.9z"/></g></g>
        </svg>
        <OrderForm renderOrders={renderOrders} myOrders={myOrders} setMyOrders={setMyOrders}/>
        <div>
            {renderOrders()}
        </div>
        </header>


        </div>
    );
}

export default App;
